/**
 * Minified by jsDelivr using Terser v3.14.1.
 * Original file: /gh/Dreamer-Paul/Kico-Style@1.0.1/kico.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
Array.prototype.remove=function(e){var t=this.indexOf(e);t>-1&&this.splice(t,1)},function(e,t){var n=function(e,t){return n.fn.init(e,t)};n.fn=n.prototype={construtor:n,init:function(e,t){return(e=n.selectAll(e)).each=function(t){return n.each(e,t)},e.image=function(){return n.image(e)},e.lazy=function(t){return n.lazy(e,t)},e.scrollTo=function(t){return n.scrollTo(e,t)},e.empty=function(){return n.each(e,function(e){n.empty(e)})},e}},n.each=function(e,t){for(var n=0;n<e.length;n++)t(e[n],n,e)},n.create=function(e,t){var r=document.createElement(e);return t&&(t.id&&(r.id=t.id),t.src&&(r.src=t.src),t.href&&(r.href=t.href),t.class&&(r.className=t.class),t.text&&(r.innerText=t.text),t.html&&(r.innerHTML=t.html),t.child&&(t.child.constructor===Array?n.each(t.child,e=>{r.appendChild(e)}):r.appendChild(t.child)),t.attr&&(t.attr.constructor===Array?n.each(t.attr,e=>{r.setAttribute(e.name,e.value)}):t.attr.constructor===Object&&r.setAttribute(t.attr.name,t.attr.value)),t.parent&&t.parent.appendChild(r)),r},n.select=function(e){switch(typeof e){case"object":return e;case"string":return document.querySelector(e)}},n.selectAll=function(e){switch(typeof e){case"object":return e;case"string":return document.querySelectorAll(e)}},n.empty=function(e){for(;e.firstChild;)e.removeChild(e.firstChild)};var r={wrap:n.create("notice"),list:[]};n.notice=function(e,t){var o=n.create("div",{class:"ks-notice",html:"<span class='content'>"+e+"</span>",parent:r.wrap});(r.list.push(o),document.querySelector("body > notice")||document.body.appendChild(r.wrap),t&&t.time)?setTimeout(i,t.time):n.create("span",{class:"close",parent:o}).onclick=i;function i(){o.classList.add("remove"),r.list.remove(o),setTimeout(function(){try{r.wrap.removeChild(o),o=null}catch(e){}document.querySelector("body > notice")&&0===r.list.length&&document.body.removeChild(r.wrap)},300)}t&&t.color&&o.classList.add(t.color)};var o={img:n.create("img"),prev:n.create("div",{class:"ks-prev"}),next:n.create("div",{class:"ks-next"}),ball:n.create("div",{class:"ks-ball"})};o.wrap=n.create("div",{class:"ks-image",child:[o.prev,o.img,o.next,o.ball]}),o.wrap.onclick=function(e){o.wrap.classList.add("remove"),setTimeout(function(){try{document.body.removeChild(o.wrap),o.wrap.classList.remove("remove")}catch(e){}},300)},o.img.onload=function(){o.wrap.classList.remove("loading")},n.image=function(e){var t=0,r=n.selectAll(e),i={ori:function(e,n){e.setAttribute("ks-image","active"),e.onclick=function(){t=n,i.set(),document.body.appendChild(o.wrap)}},set:function(){var e=r[t];0===t?o.prev.classList.add("ended"):o.prev.classList.remove("ended"),t===r.length-1?o.next.classList.add("ended"):o.next.classList.remove("ended"),null!==e.getAttribute("ks-original")?o.img.src=e.getAttribute("ks-original"):e.src?o.img.src=e.src:console.error("This image has no valid tag!"),o.wrap.classList.add("loading")}};n.each(r,function(e,t){(e.src||e.getAttribute("ks-original"))&&i.ori(e,t)}),o.prev.onclick=function(e){e.stopPropagation(),t-1>=0&&t--,i.set()},o.next.onclick=function(e){e.stopPropagation(),t+1<r.length&&t++,i.set()}},n.lazy=function(t,r){t=n.selectAll(t);var o=[],i={setFront:function(e){e.intersectionRatio>0&&(e.target.src=e.target.link,e.target.setAttribute("ks-lazy","finished"),a.unobserve(e.target))},setBack:function(e){if(e.boundingClientRect.top<=window.innerHeight+100){var t=new Image;t.src=e.target.link,t.onload=function(){e.target.setAttribute("ks-lazy","finished"),e.target.style.backgroundImage="url("+e.target.link+")"},a.unobserve(e.target)}}};if(e.IntersectionObserver){var a=new IntersectionObserver(function(e){r?e.forEach(function(e){i.setBack(e)}):e.forEach(function(e){i.setFront(e)})});n.each(t,function(e){e.link=e.getAttribute("ks-thumb")||e.getAttribute("ks-original"),e.getAttribute("ks-lazy")||a.observe(e)})}else{function c(){n.each(o,function(e){e.el.getBoundingClientRect().top<=window.innerHeight&&!e.showed&&(i.setBack(e.el),o.remove(e))})}function s(){n.each(o,function(e){e.el.getBoundingClientRect().top<=window.innerHeight&&!e.showed&&(i.setFront(e.el),o.remove(e))})}n.each(t,function(e){e.link=e.getAttribute("ks-thumb")||e.getAttribute("ks-original"),e.getAttribute("ks-lazy")||o.push({el:e,link:e.link})}),r?c():s(),r?document.addEventListener("scroll",c):document.addEventListener("scroll",s)}},n.ajax=function(e){if(e.url||(e.url=document.location.href),e.method||(e.method="GET"),"POST"===e.method){var t=new FormData;for(var n in e.data)t.append(n,e.data[n])}else if("GET"===e.method){var r=e.url+"?";for(var n in e.data)r+=n+"="+e.data[n]+"&";e.url=r.substr(0,r.length-1)}var o=new XMLHttpRequest;if(o.open(e.method,e.url),e.crossDomain&&o.setRequestHeader("X-Requested-With","XMLHttpRequest"),e.header)for(var i in e.header)o.setRequestHeader(e.header[i][0],e.header[i][1]);return o.send(t),o.onreadystatechange=function(){if(4===o.readyState){if(200===o.status||304===o.status)if(e.type)switch(e.type){case"text":e.success(o.responseText);break;case"json":e.success(JSON.parse(o.response))}else e.success?e.success(o):console.log(e.method+" 请求发送成功");else e.failed?e.failed(o):console.log(e.method+" 请求发送失败");o=null}},o},n.scrollTo=function(t,r){(t=n.selectAll(t)).forEach(function(t){t.onclick=function(t){var n=t.target.pathname,o=window.location.pathname,i=t.target.href.match(/#[\s\S]+/);if(i&&(i=ks.select(i[0])),o===n){t.preventDefault();var a=i?r?i.offsetTop-r:i.offsetTop:0;"scrollBehavior"in document.documentElement.style?e.scrollTo({top:a,left:0,behavior:"smooth"}):e.scrollTo(0,a)}else console.log(o,n)}})},e.ks=n,console.log("%c Kico Style %c https://paugram.com ","color: #fff; margin: 1em 0; padding: 5px 0; background: #3498db;","margin: 1em 0; padding: 5px 0; background: #efefef;")}(window);
//# sourceMappingURL=/sm/67da335e193303260ec9219d73b9367ae854c26e6e20a18d2d2ecf448097a396.map
